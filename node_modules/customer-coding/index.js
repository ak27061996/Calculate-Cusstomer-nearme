/*
Author: Anil Kumar
Date: Sunday 12 May 2019s
*/

'use strict';
const fs = require('fs');
const Algo = require('./algo'); //module that return customer

//read file record
function input(path) {  
	let arr=[];
	fs.readFileSync(path, 'utf-8').split(/\r?\n/).forEach(function(line){
  		arr.push(JSON.parse(line));
	});
	return arr;
}

// calculate function : return customers whose distance from current point is less than or equal to distance 
function Calculate(lat,lon,path,distance){
	let customer=input(path);  
	return Algo(lat,lon,customer,distance);
}
module.exports=Calculate;  